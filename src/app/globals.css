@import "tailwindcss";

/* --- Theme --- */
@theme inline {
  --color-room: #0a0a0a;
  --color-bezel: #2a2a2a;
  --color-crt-bg: #221c0e;
  --color-crt-text: #ffb000;
  --color-crt-dim: #996a00;
  --color-crt-error: #ff6b00;
  --color-crt-glow: #ffb000;
  --color-crt-glow-rgb: 255, 176, 0;
  --color-crt-dim-rgb: 153, 106, 0;
  --color-crt-error-rgb: 255, 107, 0;
  --font-mono: var(--font-ibm-plex-mono), ui-monospace, monospace;
}

/* --- Global Resets --- */
* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  background: #050505;
  color: var(--color-crt-text);
  font-family: var(--font-mono);
  overflow: hidden;
  min-height: 100vh;
  cursor: default;
}

/* --- Terminal Text (theme-aware glow) --- */
.terminal-text {
  color: var(--color-crt-text);
  text-shadow:
    0 0 3px rgba(var(--color-crt-glow-rgb), 0.9),
    0 0 10px rgba(var(--color-crt-glow-rgb), 0.5),
    0 0 20px rgba(var(--color-crt-glow-rgb), 0.25),
    0 0 40px rgba(var(--color-crt-glow-rgb), 0.1);
}

.terminal-text-dim {
  color: var(--color-crt-dim);
  text-shadow:
    0 0 2px rgba(var(--color-crt-dim-rgb), 0.5),
    0 0 6px rgba(var(--color-crt-dim-rgb), 0.2);
}

.terminal-text-error {
  color: var(--color-crt-error);
  text-shadow:
    0 0 2px rgba(var(--color-crt-error-rgb), 0.8),
    0 0 8px rgba(var(--color-crt-error-rgb), 0.4);
}

/* --- Blinking Block Cursor --- */
@keyframes cursor-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

.block-cursor::after {
  content: "\2588";
  animation: cursor-blink 1s step-end infinite;
  color: var(--color-crt-text);
  margin-left: 1px;
}

/* --- Scrollbar Styling (theme-aware) --- */
.terminal-output::-webkit-scrollbar {
  width: 6px;
}
.terminal-output::-webkit-scrollbar-track {
  background: transparent;
}
.terminal-output::-webkit-scrollbar-thumb {
  background: rgba(var(--color-crt-glow-rgb), 0.3);
  border-radius: 3px;
}
.terminal-output::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--color-crt-glow-rgb), 0.5);
}

/* Firefox scrollbar + bottom-align terminal content */
.terminal-output {
  scrollbar-width: thin;
  scrollbar-color: rgba(var(--color-crt-glow-rgb), 0.3) transparent;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}

/* --- CRT Screen Container --- */
.crt-screen {
  background: var(--color-crt-bg);
  overflow: hidden;
  border-radius: 8px;
  padding: 15px;
}

.crt-scanlines {
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 1px,
    rgba(0, 0, 0, 0.06) 1px,
    rgba(0, 0, 0, 0.06) 2px
  );
  pointer-events: none;
  z-index: 10;
  border-radius: inherit;
}

.crt-vignette {
  position: absolute;
  inset: 0;
  box-shadow:
    inset 0 0 80px rgba(0, 0, 0, 0.5),
    inset 0 0 160px rgba(0, 0, 0, 0.3);
  pointer-events: none;
  z-index: 10;
  border-radius: inherit;
}

/* --- Accessibility --- */
@media (prefers-reduced-motion: reduce) {
  .block-cursor::after {
    animation: none !important;
  }
}
